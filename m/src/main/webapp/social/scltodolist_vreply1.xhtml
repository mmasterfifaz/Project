<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<head>
    <style type="text/css">
        <!--
        .rich-tabhdr-side-cell {
            border:none;
        }
        .rich-tab-inactive {
            cursor: pointer;
            background-image : url(../img/tb_01.png);
            border:none;
            height: 20px;
            color: #000000;
        }
        .rich-tab-active {
            background-image : url(../img/tb_02.png);
            border:none;
            height: 20px;
            color: #FFFFFF;
        }
        .rich-tabpanel-content {
            border-width: 0px 0px 0px 0px;
            background-color: transparent;
        }
        .rich-tab-bottom-line {
            border-color: #75b8d1;
            border-width: 2px;
        }
        -->
    </style>
    <script type="text/javascript" >
        function onLoad() {
            //alert('onloaddd');
        }

    </script>
    <script type="text/javascript" src="#{request.contextPath}/includes/setcontrollerproperty.js"/>
</head>
<body>
<table width="100%" border="0" align="center" cellpadding="4" cellspacing="0">
<!-- ตารางแถวกลาง  -->
<tr>
<td width="30%" valign="top">
    <table width="100%" border="0" cellpadding="0" cellspacing="0" id="tree1">
        <!-- product lists -->
        <tr><td width="80" align="center"><div class="scroll" >
            <table width="100%" border="0" cellpadding="3" cellspacing="1">
                <tr><td>
                    <a4j:repeat value="#{sclAssignmentController.soMessageAssignments}" var="list">

                        <table width="100%" border="0" cellpadding="3" cellspacing="1">
                            <tr align="left">
                                <td width="10">
                                    <!--<img src="#{request.contextPath}/img/social/priority_#{list.priority_enum_id}.png"/>-->
                                    <h:graphicImage url="/img/social/#{list.priority_enum_id}_small.png" />

                                </td>
                                <td width="10">
                                    <!--<h:graphicImage url="/img/social/facebook_small.png" rendered="#{list.source_type eq 'FACEBOOK'}"/>-->
                                    <!--<h:graphicImage url="/img/social/pantip_small.png" rendered="#{list.source_type eq 'PANTIP'}"/>-->
                                    <!--<h:graphicImage url="/img/social/twitter_small.png" rendered="#{list.source_type eq 'TWITTER'}"/>-->
                                    <h:graphicImage url="/img/social/logo_#{list.source_type}_small.png"/>
                                </td>
                                <td><b><font size="2" color="#01a0c0"><h:outputText value="#{list.user_name} : "/></font></b>
                                    <!--<c:choose>
                                        <c:when test="#{list.source_subtype eq 'STREAM'}">
                                            <b><font size="2" color="#34c800"><h:outputText value="POST"/></font></b>
                                        </c:when>
                                        <c:otherwise >
                                            <b><font size="2" color="#ff9601"><h:outputText value="#{list.source_subtype}"/></font></b>
                                        </c:otherwise >
                                    </c:choose>

                                    -->
                                    <!--<c:if test="#{list.source_subtype eq 'STREAM'}" >
                                        <b><font size="2" color="#34c800"><h:outputText value="POST"/></font></b>
                                    </c:if>
                                    <c:if test="#{list.source_subtype ne 'STREAM'}" >
                                        <b><font size="2" color="#ff9601"><h:outputText value="#{list.source_subtype}"/></font></b>
                                    </c:if>-->

                                    <b><font size="2" color="#34c800"><h:outputText value="post" rendered="#{list.source_subtype eq 'STREAM'}"/></font></b>
                                    <b><font size="2" color="#ff9601"><h:outputText value="#{list.source_subtype.toLowerCase()}" rendered="#{list.source_subtype ne 'STREAM'}"/></font></b>
                                    <rich:spacer width="8"/>
                                    <a4j:commandButton title="scl_message_id" value="#{list.id}" image="/img/select.gif"
                                                       actionListener="#{sclAssignmentController.selectActionListener}" reRender="panelListSelects1,panelListSelects2,panelReplyHead,panelReplyDetail,panelUser">
                                        <f:param name="selectedMsgID" value="#{list.id}"/>
                                    </a4j:commandButton>
                                </td>
                            </tr>
                            <tr align="left">
                                <td></td>
                                <td></td>
                                <td>
                                    <h:outputText value="#{list.content}"/>
                                </td>
                            </tr>
                            <tr align="left">
                                <td></td>
                                <td></td>
                                <td><font color="#c0c0c0">
                                    <h:outputText value="#{list.activity_time_format}">
                                        <f:convertDateTime pattern="#{msg.datePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                                    </h:outputText></font>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" background="#{request.contextPath}/img/dot.gif" ></td>
                            </tr>
                        </table>
                    </a4j:repeat>
                </td></tr>
            </table>
            <rich:spacer height="15" />
            <table width="100%" border="0" cellpadding="3" cellspacing="1">
                <tr>
                    <td align="left">
                        <h:outputText style="font-size:medium;font-weight:bolder;color:#656565" value="total "/>
                        <h:outputText style="font-size:large;font-weight:bolder;color:#000000" value="#{sclAssignmentController.soMessageAssignments.size()}"/>
                        <h:outputText style="font-size:medium;font-weight:bolder;color:#656565" value=" Jobs"/>
                    </td>
                    <td align="right">
                        <a4j:commandButton image="/img/b_transfer.png">
                        </a4j:commandButton>
                    </td>
                </tr>
            </table>
        </div></td></tr>
        <!-- product lists -->
    </table>
    <p></p>
</td>
<td width="20" valign="top"><img src="#{request.contextPath}/img/leftline.gif" width="30" height="440"/></td>
<td width="40%" valign="top">
<h:panelGroup id="panelListSelects1">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr><td align="center">
                    <b><font size="2" color="#656565"><h:outputText value="Priority"/></font></b>
                </td></tr>
                <tr><td align="center">
                    <!--<b><font size="5" color="#ff6500"><h:outputText value="#{sclAssignmentController.soMessage.priority_enum_id}"/></font></b>-->
                    <!--<h:outputText style="font-size:x-large;font-weight:bolder;color:#0199ca" value="1" rendered="#{sclAssignmentController.soMessage.priority_enum_id eq 'PI01'}"/>-->
                    <!--<h:outputText style="font-size:x-large;font-weight:bolder;color:#32ce00" value="2" rendered="#{sclAssignmentController.soMessage.priority_enum_id eq 'PI02'}"/>-->
                    <!--<h:outputText style="font-size:x-large;font-weight:bolder;color:#ffcb00" value="3" rendered="#{sclAssignmentController.soMessage.priority_enum_id eq 'PI03'}"/>-->
                    <!--<h:outputText style="font-size:x-large;font-weight:bolder;color:#fe6700" value="4" rendered="#{sclAssignmentController.soMessage.priority_enum_id eq 'PI04'}"/>-->
                    <!--<h:outputText style="font-size:x-large;font-weight:bolder;color:#fe0000" value="5" rendered="#{sclAssignmentController.soMessage.priority_enum_id eq 'PI05'}"/>-->
                    <h:graphicImage url="/img/social/#{sclAssignmentController.soMessage.priority_enum_id}_large.png" />

                </td></tr>
            </table>
        </td>
        <td valign="middle">
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td valign="middle" width="30">
                        <!--<h:graphicImage url="/img/social/facebook_large.png" rendered="#{sclAssignmentController.soMessage.source_type eq 'FACEBOOK'}"/>-->
                        <!--<h:graphicImage url="/img/social/pantip_large.png" rendered="#{sclAssignmentController.soMessage.source_type eq 'PANTIP'}"/>-->
                        <!--<h:graphicImage url="/img/social/twitter_large.png" rendered="#{sclAssignmentController.soMessage.source_type eq 'TWITTER'}"/>-->
                        <h:graphicImage url="/img/social/logo_#{sclAssignmentController.soMessage.source_type}_large.png"/>
                    </td>
                    <td valign="middle">
                        <font size="4" color="#01a0c0"><h:outputText value="#{sclAssignmentController.soMessage.source_id}"/></font>
                    </td>
                </tr>
            </table>
        </td>
        <td>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr><td align="center">
                    <h:outputText style="font-size:small;font-weight:bold;color:#52575a" value="Wall Post Date"/>
                </td></tr>
                <tr><td align="center">
                    <h:outputText style="font-size:small;font-weight:normal;color:#c0c0c0" value="#{sclAssignmentController.soMessage.activity_time_format}">
                        <f:convertDateTime pattern="#{msg.dateTimePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                    </h:outputText>
                </td></tr>
            </table>
        </td>
        <td>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr><td align="center">
                    <h:outputText style="font-size:small;font-weight:bold;color:#52575a" value="Comment Date"/>
                </td></tr>
                <tr><td align="center">
                    <h:outputText style="font-size:small;font-weight:normal;color:#c0c0c0" value="#{sclAssignmentController.soMessage.activity_time_format}">
                        <f:convertDateTime pattern="#{msg.dateTimePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                    </h:outputText>
                </td></tr>
            </table>
        </td>
    </tr>
</table>
<rich:spacer height="15" />
</h:panelGroup>
<table width="100%" border="0" cellpadding="0" cellspacing="0" id="tree2">
<!-- product lists -->
<tr><td width="80" align="center"><div class="scroll" >
<h:panelGroup id="panelListSelects2">
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr ><td height="5" colspan="4"></td></tr>
        <tr >
            <td height="5" colspan="4" background="#{request.contextPath}/img/dot.gif" ></td>
        </tr>
        <tr ><td height="5" colspan="4"></td></tr>
        <tr>
            <td align="left" width="80">
                <img alt="" src="#{sclAssignmentController.postInfo.user_name}" width="50" height="50"/>
            </td>
            <td valign="top" align="left" colspan="3">
                <table width="100%" border="0" cellpadding="0" cellspacing="0">
                    <tr><td align="left">
                        <h:outputText style="font-size:small;font-weight:bold;color:#01a0c0" value="#{sclAssignmentController.postInfo.user_name}"/>
                    </td></tr>
                    <tr ><td height="2" colspan="4"></td></tr>
                    <tr><td align="left">
                        <h:outputText style="font-size:small;font-weight:normal;color:#c0c0c0" value="#{sclAssignmentController.postInfo.created_time_format}" >
                            <f:convertDateTime pattern="#{msg.dateTimePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                        </h:outputText>
                    </td></tr>
                </table>
            </td>
        </tr>
        <tr ><td height="5" colspan="4"></td></tr>
        <tr >
            <td height="5" colspan="4" background="#{request.contextPath}/img/dot.gif" ></td>
        </tr>
        <tr ><td height="5" colspan="4"></td></tr>
        <tr >
            <td align="left" colspan="4">
                <h:outputText value="#{sclAssignmentController.postInfo.content}"/>
            </td>
        </tr>
        <tr ><td height="5"></td></tr>
    </table>
<a4j:repeat value="#{sclAssignmentController.commentInfos}" var="list">
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr >
            <td height="5" colspan="4" background="#{request.contextPath}/img/dot.gif" ></td>
        </tr>
        <tr ><td height="5"></td></tr>
        <tr>
            <td width="80">
                <img alt="" src="#{list.user_name}" width="50" height="50"/>
            </td>
            <td valign="top">
                <table width="100%" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                        <td align="left">
                            <b><font size="2" color="#01a0c0"><h:outputText value="#{list.user_name}"/></font></b>
                        </td>
                    </tr>
                    <tr>
                        <td align="left">
                            <h:outputText value="#{list.content}"/>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr ><td height="5"></td></tr>
    </table>
</a4j:repeat>
<rich:spacer height="20" />
</h:panelGroup>
<h:panelGroup id="panelReplyHead">
<table width="95%" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td><img src="#{request.contextPath}/img/blue_box_01.png" width="5" height="5" alt=""/></td>
        <td background="#{request.contextPath}/img/blue_box_02.png" height="5"></td>
        <td><img src="#{request.contextPath}/img/blue_box_03.png" width="5" height="5" alt=""/></td>
    </tr>
    <tr>
        <td background="#{request.contextPath}/img/blue_box_04.png" ></td>
        <td bgcolor="#54bbc8" width="100%">
            <table width="100%" border="0" cellpadding="0" cellspacing="0" height="40">
                <tr>
                    <td align="center" valign="center">
                            <h:selectOneRadio style="font-size:large;font-weight:bold;color:#FFFFFF" value="#{sclAssignmentController.replyMode}">
                                <f:selectItem itemLabel="Reply" itemValue="REPLY" reRender="panelReplyDetail"/>
                                <f:selectItem itemLabel="Ignore" itemValue="IGNORE" reRender="panelReplyDetail"/>
                            </h:selectOneRadio>
                    </td>
                    <!--<td width="20%"></td>-->
                    <!--<td><b><font size="3" color="#FFFFFF">-->
                    <!--<input type="radio" name="replyMode" value="1" />Reply-->
                    <!--</font></b></td>-->
                    <!--<td><b><font size="3" color="#FFFFFF">-->
                    <!--<input type="radio" name="replyMode" value="0" />Ignore-->
                    <!--</font></b></td>-->
                    <!--<td width="25%"></td>-->
                </tr>
            </table>
        </td>
        <td background="#{request.contextPath}/img/blue_box_05.png" ></td>
    </tr>
    <tr>
        <td><img src="#{request.contextPath}/img/blue_box_06.png" width="5" height="5" alt=""/></td>
        <td background="#{request.contextPath}/img/blue_box_07.png" height="5"></td>
        <td><img src="#{request.contextPath}/img/blue_box_08.png" width="5" height="5" alt=""/></td>
    </tr>

</table>
<rich:spacer height="1" />
</h:panelGroup>
<h:panelGroup id="panelReplyDetail">
    <table width="95%" border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td><img src="#{request.contextPath}/img/blue_box_01.png" width="5" height="5" alt=""/></td>
            <td background="#{request.contextPath}/img/blue_box_02.png" height="5"></td>
            <td><img src="#{request.contextPath}/img/blue_box_03.png" width="5" height="5" alt=""/></td>
        </tr>
        <tr>
            <td background="#{request.contextPath}/img/blue_box_04.png" ></td>
            <td bgcolor="#54bbc8" width="100%" align="center">
                <br/>
                <table width="95%" border="0" cellpadding="0" cellspacing="0" height="30">
                    <tr>
                        <td align="left">
                            <b><font size="3" color="#FFFFFF">Reply</font></b>
                        </td>
                        <td align="right">
                            <!--<rich:comboBox defaultLabel="Select Template" onchange="">-->
                                <!--<f:selectItem itemValue="Template 1"/>-->
                                <!--<f:selectItem itemValue="Template 2"/>-->
                                <!--<f:selectItem itemValue="Template 3"/>-->
                            <!--</rich:comboBox>-->
                            <h:selectOneMenu value="#{sclAssignmentController.templateId}">
                                <f:selectItem itemValue="" itemLabel="#{msg.pleaseSelect}"/>
                                <f:selectItems value="#{sclAssignmentController.templateList}"/>
                                <a4j:support event="onchange" actionListener="#{sclAssignmentController.templateChangeListener}" limitToList="true" ajaxSingle="true" reRender="replyDesc"/>
                            </h:selectOneMenu>
                        </td>
                    </tr>
                </table>
                <table width="95%" border="0" cellpadding="0" cellspacing="0">
                    <tr><td align="left">
                        <h:inputTextarea id="replyDesc" cols="45" rows="5"  value="#{sclAssignmentController.replyDesc}" style="width:100%"></h:inputTextarea>
                    </td></tr>
                </table><br/>
                <table width="95%" border="0" cellpadding="0" cellspacing="0" height="50">
                    <h:inputHidden id="emotion" value="#{sclAssignmentController.emotion}"/>

                    <!--apichattment:test assign value FROM web component TO controller property-->
                    <!--<tr><td colspan="8"><textarea id="emotionTxt" rows="3" cols="25" onkeyup="setEmoTest1();"/></td></tr>-->

                    <!--apichattment:test assign value FROM web component TO controller property-->
                    <!--<tr valign="center">-->
                    <!--<td width="32"><img src="#{request.contextPath}/img/social/emo_positive.png"/></td>-->
                    <!--<td align="left"><input type="radio" name="emotionFrm" value="3" onclick="setEmoTest2();"/>Positive</td>-->
                    <!--<td width="32"><img src="#{request.contextPath}/img/social/emo_neutral.png"/></td>-->
                    <!--<td align="left"><input type="radio" name="emotionFrm" value="2" onclick="setEmoTest2();"/>Neutral</td>-->
                    <!--<td width="32"><img src="#{request.contextPath}/img/social/emo_negative.png"/></td>-->
                    <!--<td align="left"><input type="radio" name="emotionFrm" value="1" onclick="setEmoTest2();"/>Negative</td>-->
                    <!--</tr>-->

                    <tr valign="center">
                        <td width="32"><img src="#{request.contextPath}/img/social/emo_positive.png"/></td>
                        <td align="left"><input type="radio" name="emotionFrm" value="3" onclick="setControllerRadioObject('frm:emotion','emotionFrm');"/>Positive</td>
                        <td width="32"><img src="#{request.contextPath}/img/social/emo_neutral.png"/></td>
                        <td align="left"><input type="radio" name="emotionFrm" value="2" onclick="setControllerRadioObject('frm:emotion','emotionFrm');"/>Neutral</td>
                        <td width="32"><img src="#{request.contextPath}/img/social/emo_negative.png"/></td>
                        <td align="left"><input type="radio" name="emotionFrm" value="1" onclick="setControllerRadioObject('frm:emotion','emotionFrm');"/>Negative</td>
                    </tr>

                    <!--apichatment: this design easy coding but no beautiful-->
                    <!--<tr align="center">-->
                    <!--<td>-->
                    <!--<rich:spacer width="40"/>-->
                    <!--<img src="#{request.contextPath}/img/social/emo_positive.png"/><rich:spacer width="35"/>-->
                    <!--<img src="#{request.contextPath}/img/social/emo_neutral.png"/><rich:spacer width="35"/>-->
                    <!--<img src="#{request.contextPath}/img/social/emo_negative.png"/><rich:spacer width="35"/>-->
                    <!--</td>-->
                    <!--</tr>-->
                    <!--<tr align="center">-->
                    <!--<td>-->
                    <!--<h:selectOneRadio value="#{sclAssignmentController.emotion}" >-->
                    <!--<f:selectItem itemLabel="Positive" itemValue="positive"/>-->
                    <!--<f:selectItem itemLabel="Neutral" itemValue="neutral"/>-->
                    <!--<f:selectItem itemLabel="Negative" itemValue="negative"/>-->
                    <!--</h:selectOneRadio>-->
                    <!--</td>-->
                    <!--</tr>-->

                </table><br/>
                <table width="95%" border="0" cellpadding="0" cellspacing="0" height="30">
                    <tr><td align="left">
                        <b><font size="3" color="#FFFFFF">Relate to</font></b>
                    </td></tr>
                </table>
                <table width="95%" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                        <td><table width="100%" border="0" cellpadding="0" cellspacing="8">
                            <tr><td>Campaign : </td>
                                <td align="left">
                                    <h:selectOneMenu value="#{sclAssignmentController.campaignId}" style="width:180px;">
                                        <f:selectItem itemValue="0" itemLabel="#{msg.pleaseSelect}"/>
                                        <f:selectItems value="#{sclAssignmentController.campaignList}"/>
                                    </h:selectOneMenu>
                                </td></tr>
                            <tr><td>Product : </td>
                                <td align="left">
                                    <h:selectOneMenu value="#{sclAssignmentController.productId}" style="width:180px;">
                                        <f:selectItem itemValue="0" itemLabel="#{msg.pleaseSelect}"/>
                                        <f:selectItems value="#{sclAssignmentController.productList}"/>
                                    </h:selectOneMenu>
                                </td></tr>
                            <tr><td>Post Type : </td>
                                <td align="left">
                                    <h:selectOneMenu value="#{sclAssignmentController.postTypeId}" style="width:180px;">
                                        <f:selectItem itemValue="0" itemLabel="#{msg.pleaseSelect}"/>
                                        <f:selectItems value="#{sclAssignmentController.postTypeList}"/>
                                    </h:selectOneMenu>
                                </td></tr>
                            <tr><td>From : </td>
                                <td>
                                    <rich:comboBox id = "fromId" width="180px"
                                                   value="#{sclAssignmentController.fromId}"
                                                   defaultLabel="#{msg.pleaseSelect}"
                                                   requiredMessage="#{msg.require}">
                                        <f:selectItem itemValue="1"/>
                                        <f:selectItem itemValue="2"/>
                                        <f:selectItem itemValue="3"/>
                                    </rich:comboBox>
                                    <rich:message for="fromId" style="color:red" />
                                </td></tr>
                        </table></td>
                        <td>
                            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                                <tr>
                                    <td align="left" valign="top">
                                        <!--<b><font size="3" color="#FFFFFF">-->
                                        <h:selectOneRadio value="#{sclAssignmentController.caseStatus}" layout="pageDirection">
                                            <f:selectItem itemLabel="Close" itemValue="CL"/>
                                            <f:selectItem itemLabel="Follow up" itemValue="FL"/>
                                        </h:selectOneRadio>
                                        <!--</font></b>-->
                                    </td></tr>
                            </table>
                            <rich:spacer height="25"/>
                            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                                <tr>
                                    <td align="left">
                                        <h:commandButton action="#{sclAssignmentController.save}" image="/img/b_send.png" rendered="#{sclAssignmentController.selectedMsgID  ne ''}"/>
                                    </td></tr>

                            </table></td>
                    </tr>
                </table><br/>
                <table width="95%" border="0" cellpadding="0" cellspacing="0">
                    <tr><td align="left">
                        <h:inputTextarea id="attachment" cols="45" rows="5"  value="#{sclAssignmentController.attachment}" style="width:100%"></h:inputTextarea>
                    </td></tr>
                </table><br/>
            </td>
            <td background="#{request.contextPath}/img/blue_box_05.png" ></td>
        </tr>
        <tr>
            <td><img src="#{request.contextPath}/img/blue_box_06.png" width="5" height="5" alt=""/></td>
            <td background="#{request.contextPath}/img/blue_box_07.png" height="5"></td>
            <td><img src="#{request.contextPath}/img/blue_box_08.png" width="5" height="5" alt=""/></td>
        </tr>
    </table>
    <rich:spacer height="5" />
    <!--<table width="95%" border="0" cellpadding="0" cellspacing="0">-->
    <!--<tr>-->
    <!--<td align="right">-->
    <!--<a4j:commandButton actionListener="" reRender="data" Render="display" limitToList="true" image="/img/b_create_case.png"/>-->
    <!--</td>-->
    <!--</tr>-->
    <!--</table>-->
    <script type="text/javascript">
        setWebRadioObject('frm:emotion','emotionFrm');
    </script>
</h:panelGroup>
</div></td></tr>
<!-- product lists -->
</table>
<p></p>
</td>
<td width="20" valign="top"><img src="#{request.contextPath}/img/leftline.gif" width="30" height="440"/></td>
<td width="30%" valign="top">
    <h:panelGroup id="panelUser">

        <table width="100%" border="0" cellpadding="0" cellspacing="0" id="tree3">
            <!-- product lists -->
            <tr><td width="80" align="center" bgcolor="#99cc01"><div class="scroll" >
                <table width="100%" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                        <td width="70">
                            <h:graphicImage alt="" id="pictureUpload" url="#{sclAssignmentController.userInfo.pic}" width="50" height="50"/>
                        </td>
                        <td align="left">
                            <b><font size="3" color="02a2b8">
                                <h:outputText value="#{sclAssignmentController.userInfo.name}">
                                </h:outputText></font></b>
                            <b><font size="3" color="3fdade">
                                (#{sclAssignmentController.getMessageCount(sclAssignmentController.soMessage.user_id, sclAssignmentController.soMessage.source_subtype)} rec)
                            </font></b>

                        </td>
                    </tr>
                </table>
                <rich:spacer height="20" />
                <table width="100%" border="0" cellpadding="0" cellspacing="0">
                    <tr><td>
                        <rich:tabPanel switchType="ajax" id="tabs" selectedTab="#{sclAssignmentController.selectedTab}">
                            <rich:tab id="profile" label="Profile">
                                <h:panelGroup>
                                    <table width="100%" border="0" cellpadding="0" cellspacing="0" id="bartool01">
                                        <tr>
                                            <td width="9%">
                                                <table width="100%" border="0" cellpadding="0" cellspacing="5">
                                                    <tr>
                                                        <td align="right" width="25%">
                                                            Sex :
                                                        </td>
                                                        <td align="left">
                                                            <h:outputText value="#{sclAssignmentController.userInfo.sex}">
                                                            </h:outputText>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="right">
                                                            Birth Date :
                                                        </td>
                                                        <td align="left">
                                                            <h:outputText value="#{sclAssignmentController.userInfo.birthday_date_format}" rendered="#{sclAssignmentController.userInfo.birthday_date} ne null">
                                                                <f:convertDateTime pattern="dd MMM yyyy" locale="Locale.US" timeZone="Asia/Bangkok"/>
                                                            </h:outputText>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="right">
                                                            Age :
                                                        </td>
                                                        <td align="left">
                                                            <h:outputText value="">
                                                            </h:outputText>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="right">
                                                            Email :
                                                        </td>
                                                        <td align="left">
                                                            <h:outputText value="#{sclAssignmentController.userInfo.email}">
                                                            </h:outputText>
                                                        </td>
                                                    </tr>
                                                </table>                                                                            </td>
                                        </tr>
                                    </table>
                                    <table width="100%" border="0" cellpadding="0" cellspacing="0">
                                        <tr>
                                            <td align="left">
                                                <b><font size="2" color="02a2b8">
                                                    Note
                                                </font></b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td align="left">
                                                <h:inputTextarea id="userNote" cols="45" rows="5"  value="#{sclAssignmentController.userNote}"></h:inputTextarea>
                                            </td>
                                        </tr>
                                    </table>

                                </h:panelGroup>
                                <f:param name="id" value="1"/>
                                <f:param name="tab" value="assignment"/>
                            </rich:tab>
                            <rich:tab id="history" label="History">
                                <h:panelGroup>
                                    <table width="100%" border="0" cellpadding="0" cellspacing="0" id="bartool02">
                                        <tr>
                                            <td width="9%">
                                                <a4j:repeat value="#{sclAssignmentController.soMessageUsers}" var="list">

                                                    <table width="100%" border="0" cellpadding="3" cellspacing="1">
                                                        <tr align="left">

                                                            <td width="10">
                                                                <h:graphicImage url="/img/social/facebook_small.png" rendered="#{list.source_type eq 'FACEBOOK'}"/>
                                                                <h:graphicImage url="/img/social/pantip_small.png" rendered="#{list.source_type eq 'PANTIP'}"/>
                                                                <h:graphicImage url="/img/social/twitter_small.png" rendered="#{list.source_type eq 'TWITTER'}"/>
                                                            </td>
                                                            <td>
                                                                <b><font size="2" color="#34c800"><h:outputText value="post : " rendered="#{list.source_subtype eq 'STREAM'}"/></font></b>
                                                                <b><font size="2" color="#ff9601"><h:outputText value="#{list.source_subtype.toLowerCase()} : " rendered="#{list.source_subtype ne 'STREAM'}"/></font></b>
                                                                <b><font size="2" color="#01a0c0"><h:outputText value="#{list.source_id}"/></font></b>
                                                                <rich:spacer width="8"/>
                                                            </td>
                                                        </tr>
                                                        <tr align="left">
                                                            <td></td>
                                                            <td>
                                                                <h:outputText value="#{list.content}"/>
                                                            </td>
                                                        </tr>
                                                        <tr align="left">
                                                            <td></td>
                                                            <td><font color="#c0c0c0">
                                                                <h:outputText value="#{list.activity_time_format}">
                                                                    <f:convertDateTime pattern="#{msg.datePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                                                                </h:outputText></font>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="4" background="#{request.contextPath}/img/dot.gif" ></td>
                                                        </tr>
                                                    </table>
                                                </a4j:repeat>
                                            </td>
                                        </tr>
                                    </table>
                                </h:panelGroup>
                                <f:param name="id" value="2"/>
                                <f:param name="tab" value="unassignment"/>
                            </rich:tab>
                        </rich:tabPanel>

                    </td></tr>
                </table>

            </div></td></tr>
            <!-- product lists -->
        </table>
        <p></p>
        <!--<button id="btnSend" type="button">Let's Go</button>-->
    </h:panelGroup>
</td>
</tr>
</table>
<script type="text/javascript">
    onLoad();

</script>

<script type="text/javascript" src="#{request.contextPath}/includes/dojo/dojo.js"></script>
<script>
    dojo.require("dojo.fx");
    var btn = dojo.byId("btnSend");
    var fn = function(){
        dojo.fx.wipeOut({
            duration: 1000,
            node: dojo.byId("btnSend")
        }).play();
    }
    dojo.connect(btn,"onclick",fn);
</script>

</body>
</html>