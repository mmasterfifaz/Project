<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
    <body>
        <ui:composition template="../social/dashboardtemplate.xhtml">
            <ui:define name="title1">Dashboard</ui:define>
            <ui:define name="title2">Agent Performance</ui:define>
            <ui:define name="detailSub1">
                <table width="100%" border="0" cellpadding="0" cellspacing="0">                
                    <tr>
                        <td valign="top">
                            <table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#eeeee5" id="bartool01">
                                <tr>
                                    <td valign="top" class="line01">
                                        <table width="100%">
                                            <tr><td width="150" align="right">Select Date:</td>
                                                <td align="left"><rich:calendar id="fromdate"
                                                                                value="#{dashboardAgentPerformanceController.fromDate}"
                                                                                inputClass="textfield" buttonClass="rfcalbtn" inputSize="10"
                                                                                datePattern="#{msg.datePattern}"
                                                                                locale="#{msg.locale}"/>
                                                    to <span style="width: 5px"/> <rich:calendar id="todate"
                                                                                                 value="#{dashboardAgentPerformanceController.toDate}"
                                                                                                 inputClass="textfield" buttonClass="rfcalbtn" inputSize="10"
                                                                                                 datePattern="#{msg.datePattern}"
                                                                                                 locale="#{msg.locale}"/>

                                                </td>
                                            </tr>
                                            <tr><td></td>
                                                <td><a4j:commandButton actionListener="#{dashboardAgentPerformanceController.searchActionListener}" render="panelDashboard,data" limitRender="true" execute="@form" image="/img/b_search.png"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>

                            <table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#ffffff" id="bartool02">
                                <tr bgcolor="#ffffff" height="150">
                                    <td>
                                        <h:panelGroup id="panelDashboard">
                                            <table id="Table_01" width="100%" border="0" cellpadding="0" cellspacing="0">
                                                <tr>
                                                    <td colspan="21">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td rowspan="5" width='10'>
                                                    </td>
                                                    <td colspan="3" align="center">
                                                        <!--<img src="#{request.contextPath}/img/social/06sup-MonitorAgent_03.png" height="25" alt=""/>-->
                                                        <b><font size="3" color="0198ab">Message</font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_04.png" height="25" alt=""/></td>
                                                    <td colspan="3" align="center">
                                                        <!--<img src="#{request.contextPath}/img/social/06sup-MonitorAgent_05.png" height="25" alt=""/>-->
                                                        <b><font size="3" color="0198ab">Assigned</font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_06.png" height="25" alt=""/></td>
                                                    <td colspan="3" align="center">
                                                        <!--<img src="#{request.contextPath}/img/social/06sup-MonitorAgent_07.png" height="25" alt=""/>-->
                                                        <b><font size="3" color="0198ab">Remain Q</font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_06.png" height="25" alt=""/></td>
                                                    <td colspan="3" align="center">
                                                        <!--<img src="#{request.contextPath}/img/social/06sup-MonitorAgent_07.png" height="25" alt=""/>-->
                                                        <b><font size="3" color="0198ab">Total Q</font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_08.png" height="25" alt=""/></td>
                                                    <td colspan="3" align="center">
                                                        <!--<img src="#{request.contextPath}/img/social/06sup-MonitorAgent_09.png" height="25" alt=""/>-->
                                                        <b><font size="3" color="0198ab">Avg. Working / Post</font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_10.png" height="25" alt=""/></td>
                                                    <td colspan="3" align="center">
                                                        <!--<img src="#{request.contextPath}/img/social/06sup-MonitorAgent_11.png" height="25" alt=""/>-->
                                                        <b><font size="3" color="0198ab">Avg. Resp. / Post</font></b>
                                                    </td>
                                                    <td rowspan="5">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_13.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_14.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_15.png" height="10" alt=""/></td>
                                                    <td rowspan="3">
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_16.png" height="57" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_17.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_18.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_19.png" height="10" alt=""/></td>
                                                    <td rowspan="3">
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_20.png" height="57" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_21.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_22.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_23.png" height="10" alt=""/></td>
                                                    <td rowspan="3">
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_44.png" height="57" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_21.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_22.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_23.png" height="10" alt=""/></td>
                                                    <td rowspan="3">
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_24.png" height="57" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_25.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_26.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_27.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_28.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_29.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_30.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_31.png" height="10" alt=""/></td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_32.png" height="37" alt=""/></td>
                                                    <td align="center" bgcolor="#01aef0" width="200"><b><font size="6" color="FFFFF">
                                                                <h:outputText value="#{dashboardAgentPerformanceController.dshChannel}"><f:convertNumber pattern="#,##0"/>
                                                                </h:outputText></font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_34.png" height="37" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_35.png" height="37" alt=""/></td>
                                                    <td align="center" bgcolor="#99cc01" width="200"><b><font size="6" color="FFFFF">
                                                                <h:outputText value="#{dashboardAgentPerformanceController.dshAssign}"><f:convertNumber pattern="#,##0"/>
                                                                </h:outputText></font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_37.png" height="37" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_38.png" height="37" alt=""/></td>
                                                    <td align="center" bgcolor="#ff6600" width="200"><b><font size="6" color="FFFFF">
                                                                <h:outputText value="#{dashboardAgentPerformanceController.dshRemain}"><f:convertNumber pattern="#,##0"/>
                                                                </h:outputText></font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_40.png" height="37" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_38.png" height="37" alt=""/></td>
                                                    <td align="center" bgcolor="#ff6600" width="200"><b><font size="6" color="FFFFF">
                                                                <h:outputText value="#{dashboardAgentPerformanceController.dshRemainAll}"><f:convertNumber pattern="#,##0"/>
                                                                </h:outputText></font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_40.png" height="37" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_41.png" height="37" alt=""/></td>
                                                    <td align="center" bgcolor="#ff9a66" width="300">
                                                        <b><font size="6" color="#FFFFF">#{dashboardAgentPerformanceController.dshAvgWorking}</font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_43.png" height="37" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_44.png" height="37" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_45.png" height="37" alt=""/></td>
                                                    <td align="center" bgcolor="#ffcc33" width="300">
                                                        <b><font size="6" color="#FFFFF">#{dashboardAgentPerformanceController.dshAvgResponse}</font></b>
                                                    </td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_47.png" height="37" alt=""/></td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_48.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_49.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_50.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_51.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_52.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_53.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_54.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_55.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_56.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_54.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_55.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_56.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_57.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_58.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_59.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_60.png" height="10" alt=""/></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_61.png" height="10" alt=""/></td>
                                                    <td background="#{request.contextPath}/img/social/06sup-MonitorAgent_62.png" height="10"></td>
                                                    <td>
                                                        <img src="#{request.contextPath}/img/social/06sup-MonitorAgent_63.png" height="10" alt=""/></td>
                                                </tr>
                                                <tr>
                                                    <td colspan="19">
                                                    </td>
                                                </tr>
                                            </table>
                                        </h:panelGroup>
                                    </td>    
                                </tr>
                            </table>
                            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                                <tr><td><b><font size="3" color="ff6600">Agent Performance List</font></b></td></tr>
                            </table>
                            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                                <tr><td width="5"></td></tr>
                                <tr>
                                    <td>
                                        <rich:dataTable id="data" style="width: 100%" styleClass="tableline01" value="#{dashboardAgentPerformanceController.list}" rows="#{global.maxrows}" var="list"
                                                        onrowmouseover="this.style.backgroundColor='#AFAF67'"
                                                        onrowmouseout="this.style.backgroundColor='#ffffff'">
                                            <f:facet name="header">
                                                <rich:columnGroup>
                                                    <rich:column styleClass="subh01" style="text-align:center;vertical-align:top">Name</rich:column>
                                                    <rich:column styleClass="subh01" style="text-align:center;vertical-align:top">Total Message</rich:column>
                                                    <rich:column styleClass="subh01" style="text-align:center;vertical-align:top">Transfer In</rich:column>
                                                    <rich:column styleClass="subh01" style="text-align:center;vertical-align:top">Transfer Out</rich:column>
                                                    <rich:column styleClass="subh01" style="text-align:center;vertical-align:top">Total Balance</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#00a000;text-align:center;vertical-align:top">Number Reply</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#00a000;text-align:center;vertical-align:top">Number Reply All</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#00a000;text-align:center;vertical-align:top">Number Forward</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#ff6600;text-align:center;vertical-align:top">Assign</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#ff6600;text-align:center;vertical-align:top">Open</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#ff6600;text-align:center;vertical-align:top">Wait for Approve</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#ff6600;text-align:center;vertical-align:top">Follow</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#ff6600;text-align:center;vertical-align:top">Ignore</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#ff6600;text-align:center;vertical-align:top">Close</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#00a000;text-align:center;vertical-align:top">Average Working Time</rich:column>
                                                    <rich:column styleClass="subh01" style="color:#00a000;text-align:center;vertical-align:top">Average Response Time</rich:column>
                                                </rich:columnGroup>
                                            </f:facet>
                                            <rich:column>
                                                #{list.users.name} #{list.users.surname} (#{list.users.userGroup.name})
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.receivedPost}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                <h:outputText value="#{list.transfer}" rendered="#{list.transfer ne null}"/>
                                                <h:outputText value="0" rendered="#{list.transfer eq null}"/>
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                <h:outputText value="#{list.transferOut}" rendered="#{list.transferOut ne null}"/>
                                                <h:outputText value="0" rendered="#{list.transferOut eq null}"/>
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                <h:outputText value="#{list.balancePost}" rendered="#{list.balancePost ne null}"/>
                                                <h:outputText value="0" rendered="#{list.balancePost eq null}"/>
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.replyPost}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.replyAllPost}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.forwardPost}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.assign}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.opened}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.waitApprove}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.pending}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.ignore}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.closed}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.totalWorkingTimeStr}
                                            </rich:column>
                                            <rich:column style="text-align:center;">
                                                #{list.totalResponseTimeStr}
                                            </rich:column>
                                            <f:facet name="footer">
                                                <rich:dataScroller maxPages="#{global.maxpages}" renderIfSinglePage="false"/>
                                            </f:facet>
                                        </rich:dataTable>
                                    </td>
                                </tr>
                                <tr><td width="5"></td></tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </ui:define>

        </ui:composition>
    </body>
</html>
