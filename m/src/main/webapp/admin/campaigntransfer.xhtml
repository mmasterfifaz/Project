<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<script type="text/javascript">
</script>
<h:body>
    <ui:composition template="../templates/adminedit.xhtml">
        <ui:define name="title1">Administration</ui:define>
        <ui:define name="title2">Campaign Management: Transfer List</ui:define>
        <ui:define name="head">
            <script type="text/javascript" src="campaigntransfer.js"/>
        </ui:define>
        <ui:define name="panel">
            <h:inputHidden value="#{campaignTransferController.campaign.id}"/>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td bgcolor="#E8E7D5"><table width="100%" border="0" align="center" cellpadding="4" cellspacing="0">
                            <tr>
                                <td width="100" class="gray03">Campaign Name:</td>
                                <td class="blue04" align="left"><h:outputText value="#{campaignSummaryController.campaign.name}"/></td>
                                <td width="60" class="gray03">Start Date:</td>
                                <td class="blue04">
                                    <h:outputText value="#{campaignSummaryController.campaign.startDate}">
                                        <f:convertDateTime pattern="#{msg.datePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                                    </h:outputText></td>
                                <td width="60" class="gray03">End Date:</td>
                                <td class="blue04">
                                    <h:outputText value="#{campaignSummaryController.campaign.endDate}">
                                        <f:convertDateTime pattern="#{msg.datePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                                    </h:outputText>
                                </td>
                                <td width="60" class="gray03">Description:</td>
                                <td class="blue04"><h:outputText value="#{campaignSummaryController.campaign.description}"/></td>
                                <td width="50" align="center">
                                </td>
                            </tr>
                        </table></td>
                </tr>
            </table>
            <table width="95%" align="center" border="0" cellpadding="4" cellspacing="1">
                <tr>
                    <td><table width="100%" border="0" cellpadding="8" cellspacing="0">
                            <tr>
                                <td width="55%"><h4>Transfer Criteria</h4></td>
                                <td width="45%"><h4>Transfer To</h4></td>
                            </tr>
                            <tr>
                                <!-- BEGIN CRITERIA -->
                                <td align="center" valign="top" >
                                    <table width="100%" border="0" cellpadding="0" cellspacing="1" bgcolor="#dedfe0">
                                        <tr>
                                        <td bgcolor="#FFFFFF">
                                        <a4j:region id="searchPanel">
                                        <table width="90%" border="0" align="center" cellpadding="4" cellspacing="0">
                                        <tr>
                                            <td class="gray03">&nbsp;</td>
                                            <td>&nbsp;</td>
                                        </tr>
                                        <tr>
                                            <td align="right" valign="top" class="gray03">Marketing List:</td>
                                            <td valign="top" align="left">
                                                <h:selectOneMenu id="marketingList" value="#{campaignTransferController.marketingId}">
                                                    <f:selectItem itemValue="0" itemLabel="All"/>
                                                    <f:selectItems value="#{campaignTransferController.marketingList}"/>
                                                    <a4j:ajax event="change" limitRender="true" render="fromUserList, advanceCriteria" listener="#{campaignTransferController.initAdvanceCriteria}" />
                                                </h:selectOneMenu>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td align="right" valign="top" class="gray03">Contact Status:</td>
                                            <td valign="top">
                                                <h:panelGroup id="statusChange">
                                                        <table width="100%" border="0" cellpadding="2" cellspacing="0" id="tableline01">
                                                        <tr>
                                                            <td width="25%" valign="top" align="left"><h:selectBooleanCheckbox value="#{campaignTransferController.contactStatusAssigned}"/>Assigned</td>                                    
                                                            <td width="25%" valign="top" align="left"><h:selectBooleanCheckbox value="#{campaignTransferController.contactStatusViewed}"/>Viewed</td>
                                                            <td width="25%" valign="top" align="left"><h:selectBooleanCheckbox value="#{campaignTransferController.contactStatusOpened}"/>Opened</td>
                                                            <td valign="top" align="left"><h:selectBooleanCheckbox value="#{campaignTransferController.contactStatusFollowup}"/>Follow Up </td>
                                                        </tr>
                                                        </table>
                                                </h:panelGroup>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td align="right" valign="top" class="gray03">User Group:</td>
                                            <td valign="top"  align="left">
                                                <h:selectOneMenu id="fromUserGroupList" value="#{campaignTransferController.fromUserGroupId}">
                                                    <f:selectItem itemValue="0" itemLabel="All"/>
                                                    <f:selectItems value="#{campaignTransferController.userGroupList}"/>
                                                </h:selectOneMenu>
                                            </td>
                                        </tr>
                                            
                                        <!-- BEGIN CRITERIA SEARCH LIST -->
                                        <tr>
                                            <td class="gray03" valign="top" align="right">List Criteria: </td>
                                            <td valign="top" style="height: 240px;">
                                                <table border="0" cellpadding="6" cellspacing="0" width="100%">
                                                    <tr>
                                                        <td align="left">
                                                            <h:selectBooleanCheckbox id="name" value="#{campaignTransferController.selectName}"/>Name:
                                                        </td>
                                                        <td align="left">
                                                            <h:inputText id="keywordText" styleClass="textfield" size="20" maxlength="50" value="#{campaignTransferController.customerName}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left">
                                                            <h:selectBooleanCheckbox id="surname" value="#{campaignTransferController.selectSurname}"/>Surname:
                                                        </td>
                                                        <td align="left">
                                                            <h:inputText id="keywordTextSurname" styleClass="textfield" size="20" maxlength="50" value="#{campaignTransferController.customerSurname}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left">
                                                                <h:selectBooleanCheckbox id="gender" value="#{campaignTransferController.selectGender}"/>Gender:
                                                        </td>
                                                        <td align="left">
                                                            <h:selectOneMenu styleClass="select01" value="#{campaignTransferController.gender}">
                                                                <f:selectItem itemLabel="Male" itemValue="M"/>
                                                                <f:selectItem itemLabel="Female" itemValue="F"/>
                                                            </h:selectOneMenu>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left">
                                                            <h:selectBooleanCheckbox id="age" value="#{campaignTransferController.selectAge}"/>Age: 
                                                        </td>
                                                        <td align="left">
                                                            <h:inputText id="fromage" label="From Age" styleClass="textfield" size="5" maxlength="3" 
                                                                            onkeypress="return isNumberKey(event)"
                                                                            validatorMessage="#{msg.numberRequire}" value="#{campaignTransferController.fromage}">
                                                                <f:validateDoubleRange minimum="0" maximum="200"/>

                                                                <rich:validator />
                                                            </h:inputText> and<span style="padding-left:5px"/>
                                                            <h:inputText id="toage" label="To Age" styleClass="textfield" size="5" maxlength="3"
                                                                            onkeypress="return isNumberKey(event)"
                                                                            validatorMessage="#{msg.numberRequire}" value="#{campaignTransferController.toage}">
                                                                <f:validateDoubleRange minimum="0" maximum="200"/>

                                                                <rich:validator />
                                                            </h:inputText>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left">
                                                            <h:selectBooleanCheckbox id="homePhone" value="#{campaignTransferController.selectHomephone}"/>Home Phone: 
                                                        </td>
                                                        <td align="left">
                                                            <h:panelGroup id="homePhonePanel">
                                                                <h:selectOneMenu styleClass="select01" value="#{campaignTransferController.homePhonePrefix}">  
                                                                    <f:selectItem itemValue="notspecific" itemLabel="Not Specific" />
                                                                    <f:selectItem itemValue="02" itemLabel="กรุงเทพ" />
                                                                    <f:selectItem itemValue="upc" itemLabel="ต่างจังหวัด" />
                                                                    <f:selectItem itemValue="032" itemLabel="032" />
                                                                    <f:selectItem itemValue="034" itemLabel="034" />
                                                                    <f:selectItem itemValue="035" itemLabel="035" />
                                                                    <f:selectItem itemValue="036" itemLabel="036" />
                                                                    <f:selectItem itemValue="037" itemLabel="037" />
                                                                    <f:selectItem itemValue="038" itemLabel="038" />
                                                                    <f:selectItem itemValue="039" itemLabel="039" />
                                                                    <f:selectItem itemValue="042" itemLabel="042" />
                                                                    <f:selectItem itemValue="043" itemLabel="043" />
                                                                    <f:selectItem itemValue="044" itemLabel="044" />
                                                                    <f:selectItem itemValue="053" itemLabel="053" />
                                                                    <f:selectItem itemValue="054" itemLabel="054" />
                                                                    <f:selectItem itemValue="055" itemLabel="055" />
                                                                    <f:selectItem itemValue="073" itemLabel="073" />
                                                                    <f:selectItem itemValue="074" itemLabel="074" />
                                                                    <f:selectItem itemValue="075" itemLabel="075" />
                                                                    <f:selectItem itemValue="076" itemLabel="076" />
                                                                    <f:selectItem itemValue="077" itemLabel="077" />
                                                                </h:selectOneMenu><a href="../img/telephoneprefix.png" target="_blank"> View Telephone Prefix</a>
                                                            </h:panelGroup>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left">
                                                            <h:selectBooleanCheckbox id="officePhone" value="#{campaignTransferController.selectOfficePhone}"/>Office Phone: 
                                                        </td>
                                                        <td align="left" >
                                                            <h:panelGroup id="officePhonePanel">
                                                            <h:selectOneMenu styleClass="select01"  value="#{campaignTransferController.officePhonePrefix}">  
                                                                <f:selectItem itemValue="notspecific" itemLabel="Not Specific" />
                                                                <f:selectItem itemValue="02" itemLabel="กรุงเทพ" />
                                                                <f:selectItem itemValue="upc" itemLabel="ต่างจังหวัด" />
                                                                <f:selectItem itemValue="032" itemLabel="032" />
                                                                <f:selectItem itemValue="034" itemLabel="034" />
                                                                <f:selectItem itemValue="035" itemLabel="035" />
                                                                <f:selectItem itemValue="036" itemLabel="036" />
                                                                <f:selectItem itemValue="037" itemLabel="037" />
                                                                <f:selectItem itemValue="038" itemLabel="038" />
                                                                <f:selectItem itemValue="039" itemLabel="039" />
                                                                <f:selectItem itemValue="042" itemLabel="042" />
                                                                <f:selectItem itemValue="043" itemLabel="043" />
                                                                <f:selectItem itemValue="044" itemLabel="044" />
                                                                <f:selectItem itemValue="053" itemLabel="053" />
                                                                <f:selectItem itemValue="054" itemLabel="054" />
                                                                <f:selectItem itemValue="055" itemLabel="055" />
                                                                <f:selectItem itemValue="073" itemLabel="073" />
                                                                <f:selectItem itemValue="074" itemLabel="074" />
                                                                <f:selectItem itemValue="075" itemLabel="075" />
                                                                <f:selectItem itemValue="076" itemLabel="076" />
                                                                <f:selectItem itemValue="077" itemLabel="077" />
                                                            </h:selectOneMenu><a href="../img/telephoneprefix.png" target="_blank"> View Telephone Prefix</a>
                                                        </h:panelGroup>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td align="left">
                                                            <h:selectBooleanCheckbox id="mobilePhone" value="#{campaignTransferController.selectMobilePhone}"/>Mobile Phone: 
                                                        </td>
                                                        <td align="left">
                                                            <h:panelGroup id="mobilePhonePanel">
                                                            <h:selectOneMenu styleClass="select01"  value="#{campaignTransferController.mobilePhonePrefix}">  
                                                                <f:selectItem itemValue="notspecific" itemLabel="Not Specific" />
                                                                <f:selectItem itemValue="080" itemLabel="080" />
                                                                <f:selectItem itemValue="081" itemLabel="081" />
                                                                <f:selectItem itemValue="082" itemLabel="082" />
                                                                <f:selectItem itemValue="083" itemLabel="083" />
                                                                <f:selectItem itemValue="084" itemLabel="084" />
                                                                <f:selectItem itemValue="085" itemLabel="085" />
                                                                <f:selectItem itemValue="086" itemLabel="086" />
                                                                <f:selectItem itemValue="087" itemLabel="087" />
                                                                <f:selectItem itemValue="088" itemLabel="088" />
                                                                <f:selectItem itemValue="089" itemLabel="089" />
                                                                <f:selectItem itemValue="090" itemLabel="090" />
                                                            </h:selectOneMenu>
                                                        </h:panelGroup>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <!-- END CRITERIA SEARCH LIST -->

                                        <!-- BEGIN CRITERIA ADVANCE SEARCH LIST -->  
                                        <tr>
                                            <td class="gray03">&nbsp;</td>
                                            <td valign="top" align="left">
                                                <rich:togglePanel id="toggle1" activeItem="plus" switchType="client" cycledSwitching="plus,sub" 
                                                                  style="width: 100%; border: 0; padding: 0; margin: 0">
                                                    <rich:togglePanelItem name="plus">
                                                        <h:commandLink>
                                                            <rich:toggleControl targetPanel="toggle1" targetItem="sub"/> 
                                                            <img src="#{request.contextPath}/img/bplus.png" alt="" style="display: inline"/>  Advance Search   
                                                        </h:commandLink>
                                                    </rich:togglePanelItem> 

                                                    <rich:togglePanelItem name="sub">
                                                        <h:commandLink>
                                                            <rich:toggleControl targetPanel="toggle1" targetItem="plus"/> 
                                                            <img src="#{request.contextPath}/img/b_subtract.png" alt="" style="display: inline"/> Advance Search
                                                        </h:commandLink>
                                                        <h:panelGroup>
                                                            <table width="100%" border="0" align="center" cellpadding="4" cellspacing="0">
                                                            <tr><td>
                                                                <rich:dataGrid style="width: 100%" columns="1" id="advanceCriteria" 
                                                                               value="#{campaignTransferController.selectedAdvanceCriteria}" var="advanceCriteriaList">
                                                                    <rich:dataTable style="width: 100%" value="#{advanceCriteriaList}" var="advanceField">
                                                                        <rich:columnGroup>
                                                                            <rich:column style="width: 5%">
                                                                                <h:selectBooleanCheckbox value="#{advanceField.selected}"/>
                                                                            </rich:column>

                                                                            <rich:column style="text-align: left;width: 30%">
                                                                                <h:outputText value="#{advanceField.mappingName}"/>
                                                                            </rich:column>

                                                                            <rich:column style="text-align: left;width: 60%">                                     
                                                                                <h:panelGroup rendered="#{advanceField.type eq 'String'}">
                                                                                    <h:inputText styleClass="textfield" size="20" maxlength="20" value="#{advanceField.keyword}"/>
                                                                                </h:panelGroup>     

                                                                                <h:panelGroup rendered="#{advanceField.type eq 'Number'}">
                                                                                     <h:selectOneMenu value="#{advanceField.criteria}" >                                                                            
                                                                                        <f:selectItem itemLabel="&#62;" itemValue="&#62;"/>
                                                                                        <f:selectItem itemLabel="&#62;&#61;" itemValue="&#62;&#61;"/>
                                                                                        <f:selectItem itemLabel="&#60;" itemValue="&#60;"/>
                                                                                        <f:selectItem itemLabel="&#60;&#61;" itemValue="&#60;&#61;"/>
                                                                                        <f:selectItem itemLabel="&#61;" itemValue="&#61;"/>
                                                                                        <f:selectItem itemLabel="&#60;&#62;" itemValue="&#60;&#62;"/>   
                                                                                        <f:selectItem itemLabel="between" itemValue="between"/>
                                                                                        <f:ajax event="change" render="toValNum" immediate="true" execute="@this" />
                                                                                    </h:selectOneMenu> <span style="padding-left:5px"/>
                                                                                    <h:inputText styleClass="textfield" size="5" maxlength="10" 
                                                                                                 onkeypress="return isNumberFloatKey(event)" validatorMessage="#{msg.numberRequire}" value="#{advanceField.fromValue}">
                                                                                        <rich:validator />
                                                                                    </h:inputText>
                                                                                    <h:panelGroup id="toValNum" >
                                                                                        <h:outputText value="(and)" rendered="#{advanceField.criteria eq 'between'}"/>
                                                                                        <span style="padding-left:5px"/>                                                                    
                                                                                        <h:inputText styleClass="textfield" size="5" maxlength="10" rendered="#{advanceField.criteria eq 'between'}"
                                                                                                     onkeypress="return isNumberFloatKey(event)" validatorMessage="#{msg.numberRequire}" value="#{advanceField.toValue}">
                                                                                            <rich:validator />
                                                                                        </h:inputText>
                                                                                    </h:panelGroup>
                                                                                </h:panelGroup>     

                                                                                <h:panelGroup rendered="#{advanceField.type eq 'Date'}">
                                                                                    <h:selectOneMenu value="#{advanceField.criteria}" >
                                                                                        <f:selectItem itemLabel="on" itemValue="on"/>
                                                                                        <f:selectItem itemLabel="before" itemValue="before"/>
                                                                                        <f:selectItem itemLabel="after" itemValue="after"/>
                                                                                        <f:selectItem itemLabel="between" itemValue="between"/>
                                                                                        <f:selectItem itemLabel="not equal to" itemValue="notEqual"/>
                                                                                        <f:ajax event="change" render="toValDate" immediate="true" execute="@this" />
                                                                                    </h:selectOneMenu>
                                                                                    <br/>
                                                                                    <span style="padding-left:5px"/>
                                                                                    <rich:calendar value="#{advanceField.fromValueDate}" 
                                                                                                   inputClass="textfield" inputSize="8" buttonClass="rfcalbtn" 
                                                                                                   datePattern="#{msg.datePattern}" locale="#{msg.locale}" >
                                                                                    </rich:calendar>
                                                                                    <h:panelGroup id="toValDate" >
                                                                                        <h:outputText value="(and)" rendered="#{advanceField.criteria eq 'between'}"/>
                                                                                        <span style="padding-left:5px"/>
                                                                                        <rich:calendar value="#{advanceField.toValueDate}" rendered="#{advanceField.criteria eq 'between'}"
                                                                                                       inputClass="textfield" inputSize="8" buttonClass="rfcalbtn" 
                                                                                                       datePattern="#{msg.datePattern}" locale="#{msg.locale}" >
                                                                                        </rich:calendar>
                                                                                    </h:panelGroup>
                                                                                </h:panelGroup>

                                                                            </rich:column>
                                                                    </rich:columnGroup>
                                                            </rich:dataTable>
                                                                </rich:dataGrid>
                                                            </td></tr>
                                                            <tr>
                                                                <td class="gray03">&nbsp;</td>
                                                                <td>&nbsp;</td>
                                                            </tr>
                                                            </table>
                                                        </h:panelGroup>
                                                    </rich:togglePanelItem> 
                                                </rich:togglePanel>      
                                            </td>
                                        </tr>
                                        <!-- END CRITERIA ADVANCE SEARCH LIST -->
                                        
                                        <tr>
                                            <td  align="right" valign="top" class="gray03"></td>
                                            <td  valign="top" align="left">
                                                <a4j:commandButton image="/img/b_search.png" 
                                                                    limitRender="true"
                                                                    render="fromUserList"
                                                                    actionListener="#{campaignTransferController.fromUserGroupChangeListener}"
                                                                    status="actionStatus"/>
                                                <h:outputText id="exceed" style="color:red" value="#{campaignTransferController.messageExceed}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                        <td align="right" valign="top" class="gray03">&nbsp;</td>
                                        <td valign="top"><table width="100%" border="0" cellpadding="0" cellspacing="1" bgcolor="#dedfe0">
                                                <tr>
                                                    <td bgcolor="#FFFFFF">
                                                        <rich:dataTable id="fromUserList" style="width: 100%;padding: 4em" styleClass="tableline01" headerClass="subh01"
                                                                        value="#{campaignTransferController.selectedAssignmentUser}"  var="userList"
                                                                        onrowmouseover="this.style.backgroundColor='#AFAF67'"
                                                                        onrowmouseout="this.style.backgroundColor='#F8F8F8'">
                                                            <f:facet name="header">
                                                                <rich:columnGroup>
                                                                    <rich:column style="width: 5%;text-align: left;">
                                                                        <input type="checkbox" name="allbox" onclick="checkUserAll()" checked="true"/></rich:column>
                                                                    <rich:column style="width: 45%;text-align: left;"><h:outputText value="User Name"/></rich:column>
                                                                    <rich:column style="width: 15%;text-align: left;"><h:outputText value="Totals" title="Total Remain"/></rich:column>
                                                                    <rich:column style="width: 30%;text-align: left;"><h:outputText value="Transfer Records"/></rich:column>
                                                                </rich:columnGroup>
                                                            </f:facet>
                                                            <rich:column>
                                                                <h:selectBooleanCheckbox id="userbox" value="#{userList.selected}"/>
                                                            </rich:column>
                                                            <rich:column style ="text-align: left">
                                                                <h:outputText value="#{userList.user.name} #{userList.user.surname}"/>
                                                            </rich:column>
                                                            <rich:column style="alignment-adjust: central">
                                                                <a4j:commandLink title="View Customer List" 
                                                                                rendered="#{userList.totals ne 0}" value="#{userList.totals eq null?0:userList.totals}">
                                                                    <f:param name="userId" value="#{userList.user.id}"/>
                                                                    <a4j:ajax listener="#{campaignTransferController.searchCustomerListener}" 
                                                                              limitRender="true" render="showCustomer, customerList" 
                                                                              oncomplete="#{rich:component('showCustomer')}.show(); return false;"/>
                                                                </a4j:commandLink>
                                                                <h:outputText rendered="#{userList.totals eq null or userList.totals eq 0}" value="0"/>
                                                            </rich:column> 
                                                            <rich:column>
                                                                <h:inputText id="recordno" maxlength="5" size="5" 
                                                                                onkeypress="return isNumberKey(event)" value="#{userList.record}">
                                                                    <a4j:ajax event="blur" listener="#{campaignTransferController.checkRecord}" 
                                                                              render="exceed" limitRender="true"/>
                                                                </h:inputText>
                                                            </rich:column>
                                                        </rich:dataTable>
                                                    </td>
                                                </tr>
                                            </table></td>
                                        </tr>
                                        <tr>
                                            <td class="gray03" height="10">&nbsp;</td>
                                            <td>&nbsp;</td>
                                        </tr>
                                        </table>
                                        </a4j:region>
                                        </td>
                                    </tr>
                                    </table>
                                </td>                       
                                <!-- END CRITERIA -->
                                
                                <!-- BEGIN TRANSFER TO -->
                                <td align="center" valign="top">
                                    <table width="100%" border="0" cellpadding="0" cellspacing="1" bgcolor="#dedfe0" id="tableline01">
                                        <tr>
                                        <td bgcolor="#FFFFFF">
                                            <table width="90%" border="0" align="center" cellpadding="4" cellspacing="0">
                                                <tr>
                                                    <td class="gray03">&nbsp;</td>
                                                    <td>&nbsp;</td>
                                                </tr>
                                                <tr> 
                                                    <td align="right" valign="top" class="gray03">User Group:</td>
                                                    <td valign="top"  align="left">
                                                        <h:selectOneMenu id="toUserGroupList"
                                                                            value="#{campaignTransferController.toUserGroupId}">
                                                            <f:selectItem itemValue="0" itemLabel="All"/>
                                                            <f:selectItems value="#{campaignTransferController.userGroupList}"/>
                                                            <a4j:ajax event="change" render="toUserList" execute="@this"
                                                                            listener="#{campaignTransferController.toUserGroupChangeListener}"/>
                                                        </h:selectOneMenu>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td align="right" valign="top" class="gray03"><h:outputText value="* " style="color:red"/>User:</td>
                                                    <td valign="top"  align="left">
                                                        <h:selectOneMenu id="toUserList" value="#{campaignTransferController.toUserId}">
                                                            <f:selectItem itemLabel="#{msg.pleaseSelect}"/>
                                                            <f:selectItems value="#{campaignTransferController.toUserList}"/>
                                                        </h:selectOneMenu>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>&nbsp;</td>
                                                    <td valign="top" align="left">
                                                        <a4j:commandButton  image="../img/b_simulate_list.png"
                                                                            limitRender="true"
                                                                            render="exceed, duplicate, simulatePanel"
                                                                            actionListener="#{campaignTransferController.simulateTransfer}"/>
                                                    </td>                         
                                                </tr>
                                                    <tr>
                                                    <td class="gray03" height="20">&nbsp;</td>
                                                    <td align="left"><h:outputText id="duplicate" style="color:red" value="#{campaignTransferController.messageDup}"/></td>
                                                </tr>
                                                <tr>
                                                    <td class="gray03" height="20">&nbsp;</td>
                                                    <td>&nbsp;</td>
                                                </tr>
                                                <tr><td colspan="2">
                                                    <h:panelGroup id="simulatePanel">
                                                        <table align="left" cellpadding="4" >
                                                            <tr>
                                                                <td width="175" align="right" valign="top" class="gray03">Total:</td>
                                                                <td><h:outputText value="#{campaignTransferController.remainRecord}"/></td>
                                                            </tr>
                                                            <tr>
                                                                <td align="right" valign="top" class="gray03">Transfer Record:</td>
                                                                <td><h:outputText value="#{campaignTransferController.transferRecord}"/></td>
                                                            </tr>
                                                            <tr>
                                                                <td align="right" valign="top" class="gray03">Simulate Total:</td>
                                                                <td><h:outputText value="#{campaignTransferController.simulateRecord}"/></td>
                                                            </tr>
                                                        </table>
                                                    </h:panelGroup>
                                                </td></tr>
                                                <tr>
                                                    <td class="gray03" height="20">&nbsp;</td>
                                                    <td>&nbsp;</td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    </table>
                                </td>
                                <!-- END TRANSFER TO -->
                            </tr>

                            <tr>
                                <td align="center" colspan="2">
                                    <h:commandButton  image="../img/b_back.png"
                                                        action="#{campaignTransferController.backAction}"
                                                        immediate="true">
                                        <f:param name="tab" value="transfer"/> 
                                        <f:param name="id" value="#{campaignTransferController.campaign.id}"/>
                                    </h:commandButton>
                                    <h:commandButton  image="../img/b_proceed.png"
                                                        onclick="if (!checkSubmit()) return false;
                                                        else {#{rich:component('waitPopup')}.show('',{height:'80px', width:'150px'}); return true;}"
                                                        actionListener="#{campaignTransferController.saveAction}">
                                        <f:param name="id" value="#{campaignTransferController.campaign.id}"/>
                                        <f:param name="tab" value="transfer"/> 
                                    </h:commandButton>
                                </td>
                            </tr>
                        </table></td>
                </tr>
            </table>
        </ui:define>

        <ui:define name="popupModal">
            <ui:include src="/share/waitpopup.xhtml"/>            
            <a4j:status id="actionStatus" 
                        onstart="#{rich:component('waitPopup')}.show()"
                        onstop="#{rich:component('waitPopup')}.hide()" />

            <rich:popupPanel id="showCustomer" width="400"  autosized="true" style="padding: 0 0 0 0; border-style: none " >
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td width="10" valign="top"><img src="#{request.contextPath}/img/box09.png" alt="" width="10" height="48"/></td>
                        <td valign="middle" background="#{request.contextPath}/img/box11.png"><h2 class="style1">Customer List</h2></td>
                        <td valign="middle" align="right" background="#{request.contextPath}/img/box11.png">
                            <a href="#" class="close_popup" style="cursor:pointer" onclick="#{rich:component('showCustomer')}.hide();return false;">#{msg.close}</a></td>
                        <td width="10" valign="top"><img src="#{request.contextPath}/img/box10.png" alt="" width="10" height="48"/></td>
                    </tr>
                </table>
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td width="5" background="#{request.contextPath}/img/box08.png">
                            <img src="#{request.contextPath}/img/box08.png" width="5" height="5"/></td>
                        <td valign="top" bgcolor="#FFFFFF" >
                            <h:panelGroup id="customerList">
                                <table width="100%">
                                    <tr>
                                    <td valign="top">
                                        <rich:dataTable style="width: 100%;padding: 2em" styleClass="tableline01" 
                                                        value="#{campaignTransferController.customerList}" var="custlist" rows="#{global.maxrows}">
                                            <f:facet name="header">
                                                <rich:columnGroup >
                                                    <rich:column style="width: 100%;text-align: left;">
                                                        <h:outputText styleClass="blue04" value="Customer Name" />
                                                    </rich:column>
                                                </rich:columnGroup>
                                            </f:facet>
                                            <rich:columnGroup>
                                                <rich:column style="text-align: left">
                                                    <h:outputText value="#{custlist.customerName}"/>
                                                </rich:column>
                                            </rich:columnGroup>
                                            <f:facet name="footer">
                                                <rich:dataScroller fastControls="hide" maxPages="#{global.maxpages}" renderIfSinglePage="false"/>
                                            </f:facet>
                                        </rich:dataTable>
                                    </td>
                                    </tr>
                                    <tr height="50">
                                        <td valign="center" align="center">
                                        <a href="#" style="cursor:pointer" onclick="#{rich:component('showCustomer')}.hide();return false;">
                                            <img src="../img/b_close.png" botder="0"/></a>
                                        </td>
                                    </tr>
                                </table>
                            </h:panelGroup>
                        </td>
                        <td width="4" class="bg_right"></td>
                    </tr>
                </table>
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td background="#{request.contextPath}/img/box04.png" width="10" height="10"></td>
                        <td background="#{request.contextPath}/img/box07.png"><img src="#{request.contextPath}/img/clear.gif"/></td>
                        <td background="#{request.contextPath}/img/box03.png" width="10" height="10"></td>
                    </tr>
                </table>
            </rich:popupPanel>
            </ui:define>

    </ui:composition>
</h:body>
</html>
