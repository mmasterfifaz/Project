<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">
    <body>
        <ui:composition template="../templates/adminmainsearch.xhtml">
            <ui:define name="title1">Administration</ui:define>
            <ui:define name="title2">Yes File History</ui:define>
            <ui:define name="search">
                <span style="padding-left:2px"/>Create Date <span style="padding-left:5px"/>
            </ui:define>
            <ui:define name="button">
            </ui:define>
            <ui:define name="panel">
                <rich:dataTable id="table" 
                                style="width: 100%" 
                                styleClass="tableline01" 
                                value="#{yesLogController.list}" 
                                rows="#{global.maxrows}" 
                                var="list"
                                onrowmouseover="this.style.backgroundColor='#AFAF67'"
                                onrowmouseout="this.style.backgroundColor='#FFFFFF'">
                    <f:facet name="header">
                        <rich:columnGroup>
                            <rich:column styleClass="subh01">Create Date</rich:column>
                            <rich:column styleClass="subh01">Create By</rich:column>
                            <rich:column styleClass="subh01">Yes File</rich:column>
                            <rich:column styleClass="subh01">Detail File</rich:column>
                            <rich:column styleClass="subh01">App File</rich:column>
                        </rich:columnGroup>
                    </f:facet>

                    <rich:column>
                        <h:outputText value="#{list.createDate}">
                            <f:convertDateTime pattern="#{msg.dateTimePattern}" locale="#{msg.locale}" timeZone="#{msg.timeZone}"/>
                        </h:outputText>
                    </rich:column>
                    <rich:column>
                        <h:outputText value="#{list.createBy}"/>
                    </rich:column>
                    <rich:column>
                        <a href="#{request.contextPath}#{list.yesFilepath}" target="_blank">#{list.yesFilename}</a>
                        <!--<a href="#{request.contextPath}#{list.yesFilename}" target="_blank">AIA_YES_File_#{fn:substringAfter(list.yesFilename, "AIA_YES_File_")}</a>-->
                        <!--<a href="#{request.contextPath}#{list.yesFilename}" target="_blank">#{fn:substringAfter(fn:substringAfter(fn:substringAfter(fn:substringAfter(list.yesFilename, "/"), "/"), "/"), "/")}</a>-->
                    </rich:column>
                    <rich:column>
                        <a href="#{request.contextPath}#{list.appFilepath}" target="_blank">#{list.appFilename}</a>
                        <!--<a href="#{request.contextPath}#{list.appFilename}" target="_blank">AIA_APP_File_#{fn:substringAfter(list.appFilename, "AIA_APP_File_")}</a>-->
                        <!--<a href="#{request.contextPath}#{list.appFilename}" target="_blank">#{fn:substringAfter(fn:substringAfter(fn:substringAfter(fn:substringAfter(list.appFilename, "/"), "/"), "/"), "/")}</a>-->
                    </rich:column>
                    <rich:column>
                        <a href="#{request.contextPath}#{list.voiceFilepath}" target="_blank">#{list.voiceFilename}</a>
                        <!--<a href="#{request.contextPath}#{list.voiceFilename}" target="_blank">AIA_VOICE_File#{fn:substringAfter(list.voiceFilename, "AIA_VOICE_File")}</a>-->
                        <!--<a href="#{request.contextPath}#{list.voiceFilename}" target="_blank">#{fn:substringAfter(fn:substringAfter(fn:substringAfter(fn:substringAfter(list.voiceFilename, "/"), "/"), "/"), "/")}</a>-->
                    </rich:column>
                    <f:facet name="footer">
                        <rich:dataScroller maxPages="#{global.maxpages}" renderIfSinglePage="false"/>
                    </f:facet>
                </rich:dataTable>
                <br/>
                <table width="100%"><tr>
                        <td align="left"><a href="../admin/exportyesfile.jsf" >..back to Export Yes File Page</a></td>
                    </tr></table>                
            </ui:define>
        </ui:composition>
    </body>
</html>
