<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">
    <h:body>
        <ui:composition template="../templates/adminedit.xhtml">
            <ui:define name="title1">Configuration</ui:define>
            <ui:define name="title2">Child Registration Form: Add/Edit</ui:define>
            <ui:define name="panel">
                <h:inputHidden value="#{childRegFormEditController.mode}"/>
                <h:inputHidden value="#{childRegFormEditController.childRegForm.id}"/>
                <table width="90%" border="0" align="center" cellpadding="4" cellspacing="0">
                    <tr>   
                        <td align="right" valign="top"></td>
                        <td valign="top"><h:outputText value="#{childRegFormEditController.message}" style="color:red"/></td>
                    </tr>
                    <tr>
                        <td align="right" valign="top">* Child Registration Type :</td>
                        <td>
                                <h:selectOneMenu id="mergeDataView"  style="width: 180px;"
                                                 value="#{childRegFormEditController.childRegForm.childRegType.id}"
                                                 required="true" requiredMessage="Child Registration Type is required">
                                    <f:selectItem itemLabel="#{msg.pleaseSelect}"/>
                                    <f:selectItems value="#{childRegFormEditController.childRegTypeList}"/>
                                    <rich:validator />
                                </h:selectOneMenu>
                                <rich:message for="mergeDataView" style="color:red"/>
                        </td>
                    </tr>
                    <tr>
                        <td width="200" align="right" valign="top">* Form Name:</td>
                        <td><h:inputText id="name" value="#{childRegFormEditController.childRegForm.name}" styleClass="textfield" size="30" required="true"
                                         requiredMessage="Form name is required">
                                <f:validateRequired/>                  
                                <rich:validator />
                            </h:inputText>
                            <rich:message for="name" style="color:red"/>
                            <h:outputText value="#{childRegFormEditController.messageDupName}" style="color:red"/>
                        </td>
                    </tr>
                    <tr>
                        <td width="200" align="right" valign="top">* Code:</td>
                        <td><h:inputText id="code" value="#{childRegFormEditController.childRegForm.code}" styleClass="textfield" size="30" required="true"
                                         requiredMessage="Code is required">
                                <f:validateRequired/>                  
                                <rich:validator />
                            </h:inputText>
                            <rich:message for="name" style="color:red"/>
                            <h:outputText value="#{childRegFormEditController.messageDupCode}" style="color:red"/>
                        </td>
                    </tr>
                    <tr>
                        <td align="right" valign="top">Description:</td>
                        <td valign="top"><h:inputTextarea id="remark" cols="40" rows="5"  value="#{childRegFormEditController.childRegForm.description}">
                            </h:inputTextarea>
                        </td>
                    </tr>
                    
                    <tr>
                        <td align="right" valign="top"></td>
                        <td valign="top"><h:selectBooleanCheckbox id="required" value="#{childRegFormEditController.childRegForm.required}"/> Required
                        </td>
                    </tr>
                    
                    <ui:remove>
                        <tr>
                            <td align="right" valign="top"></td>
                            <td valign="top"><h:selectBooleanCheckbox id="status" value="#{childRegFormEditController.childRegForm.enable}"/> Enable
                            </td>
                        </tr>
                    </ui:remove>
                    
                    <tr>
                        <td colspan="2">
                            <rich:dataGrid style="width: 100%" columns="2" 
                                           value="#{childRegFormEditController.childRegFieldInfoValues}" var="fieldinfo">
                                <h:panelGroup>
                                    <rich:dataTable style="width: 100%" value="#{fieldinfo}" var="field" headerClass="subh01">
                                        <f:facet name="header">
                                            <rich:columnGroup>
                                                <rich:column style="text-align: left;width: 25%">Field Name</rich:column>
                                                <rich:column style="text-align: left;width: 5%">Selected</rich:column>
                                                <rich:column style="text-align: left;width: 5%">Required</rich:column>
                                                <rich:column style="text-align: left;width: 20%">Custom Name</rich:column>
                                                <rich:column style="text-align: left;width: 20%">Control Type</rich:column>
                                                <rich:column style="text-align: left;width: 10%">Items</rich:column>
                                            </rich:columnGroup>
                                        </f:facet>
                                        <rich:column>
                                            <h:outputText value="#{field.displayName}"/>
                                        </rich:column>
                                        <rich:column>
                                            <h:selectBooleanCheckbox value="#{field.selected}">
                                            </h:selectBooleanCheckbox>
                                        </rich:column>             
                                        <rich:column>
                                            <h:selectBooleanCheckbox value="#{field.required}"/>
                                        </rich:column>
                                        <rich:column>
                                            <h:inputText value="#{field.customName}" styleClass="textfield" size="10"/>
                                        </rich:column> 
                                        <rich:column>
                                            <h:selectOneMenu value="#{field.controlType}" style="width: 100px" rendered="#{
                                                                      field.name eq 'fx1' ||
                                                                      field.name eq 'fx2' ||
                                                                      field.name eq 'fx3' ||
                                                                      field.name eq 'fx4' ||
                                                                      field.name eq 'fx5' ||
                                                                      field.name eq 'fx6' ||
                                                                      field.name eq 'fx7' ||
                                                                      field.name eq 'fx8' ||
                                                                      field.name eq 'fx9' ||
                                                                      field.name eq 'fx10' ||
                                                                      field.name eq 'fx11' ||
                                                                      field.name eq 'fx12' ||
                                                                      field.name eq 'fx13' ||
                                                                      field.name eq 'fx14' ||
                                                                      field.name eq 'fx15' ||
                                                                      field.name eq 'fx16' ||
                                                                      field.name eq 'fx17' ||
                                                                      field.name eq 'fx18' ||
                                                                      field.name eq 'fx19' ||
                                                                      field.name eq 'fx20'
                                                                      }">
                                                <f:selectItem itemLabel="Text Field" itemValue="#{msg.textFieldControl}"/>
                                                <f:selectItem itemLabel="Text Box" itemValue="#{msg.textBoxControl}"/>
                                                <f:selectItem itemLabel="Radio Button" itemValue="radio"/>
                                                <f:selectItem itemLabel="Check Box" itemValue="checkbox"/>
                                                <f:selectItem itemLabel="Combo Box" itemValue="#{msg.comboBoxControl}"/>
                                                <ui:remove>
                                                <f:selectItem itemLabel="Suggestion Box" itemValue="#{msg.suggestionBoxControl}"/>
                                                </ui:remove>
                                                <f:selectItem itemLabel="Calendar" itemValue="#{msg.calendarControl}"/>
                                            </h:selectOneMenu>
                                        </rich:column>
                                        <rich:column>
                                            <h:inputText value="#{field.items}" size="10" styleClass="textfield" rendered="#{
                                                                      field.name eq 'fx1' ||
                                                                      field.name eq 'fx2' ||
                                                                      field.name eq 'fx3' ||
                                                                      field.name eq 'fx4' ||
                                                                      field.name eq 'fx5' ||
                                                                      field.name eq 'fx6' ||
                                                                      field.name eq 'fx7' ||
                                                                      field.name eq 'fx8' ||
                                                                      field.name eq 'fx9' ||
                                                                      field.name eq 'fx10' ||
                                                                      field.name eq 'fx11' ||
                                                                      field.name eq 'fx12' ||
                                                                      field.name eq 'fx13' ||
                                                                      field.name eq 'fx14' ||
                                                                      field.name eq 'fx15' ||
                                                                      field.name eq 'fx16' ||
                                                                      field.name eq 'fx17' ||
                                                                      field.name eq 'fx18' ||
                                                                      field.name eq 'fx19' ||
                                                                      field.name eq 'fx20'}"/>
                                            
                                        </rich:column>
                                    </rich:dataTable>
                                    <h:outputText></h:outputText>
                                </h:panelGroup>
                                <br/>
                                <br/>
                            </rich:dataGrid>
                        </td>
                    </tr>
                    <tr>
                        <td align="right" valign="top"></td>
                        <td valign="top"><h:commandButton image="../img/b_save.png" action="#{childRegFormEditController.saveAction}" rendered="#{childRegFormEditController.savePermitted}"/>
                            <h:commandButton image="../img/b_back.png" action="#{childRegFormEditController.backAction}" immediate="true"/>
                        </td>
                    </tr>
                </table>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
