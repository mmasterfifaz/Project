<ui:composition template="../templates/popupmodal2.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich">
    <ui:param name="modalId" value="changePasswordPopup"/>
    <ui:define name="searchcontent">
        <table width="100%" border="0" cellpadding="0" cellspacing="0" id="hbox01">
            <tr><td width="260"><h2><img src="#{request.contextPath}/img/icon_my_script.png" width="32" height="32" hspace="5" align="absmiddle" style="display: inline;"/>Change Password</h2></td>
                <td width="60" align="right"><a4j:commandLink styleClass="close" value="Close X" onclick="#{rich:component('changePasswordPopup')}.hide()" rendered="#{showClose eq '1'}" immediate="true"/></td>
            </tr>
        </table>
    </ui:define>

    <ui:define name="content">
        <table width="80%" border="0" align="center" cellpadding="4" cellspacing="0">
            <tr>
                <td width="260" align="right" valign="top"></td>
                <td valign="top" style="color: #0198ab;">
                    <p >
                        Please note that the password:<br/>
                    <ul><li>Must contain at least 8 characters</li>
                        <li>May contain letters &amp; numbers,</li>
                        <li>May be upper or lower case.</li>
                    </ul>
                    </p>

                </td>
            </tr>
            <tr>
                <td align="right" valign="top"></td>
                <td valign="top"><h:outputText id="message" value="#{changePasswordPopupController.message}" style="color:red"/></td>
            </tr>

            <tr>
                <td  align="right" valign="top">Name:</td>
                <td><h:outputText value="#{userSession.userName}"/></td>
            </tr>
            <tr>
                <td  align="right" valign="top">* Current Password:</td>
                <td><h:inputSecret redisplay="true" id="currentPassword" value="#{changePasswordPopupController.currentPassword}" styleClass="textfield" size="20" required="true" maxlength="30"
                               requiredMessage="Current Password is required">
                <rich:validator/>
            </h:inputSecret>
            <rich:message for="currentPassword" style="color:red"/></td>
            </tr>
            <tr>
                <td align="right" valign="top">* New Password:</td>
                <td valign="top"><h:inputSecret redisplay="true" id="newPassword" value="#{changePasswordPopupController.newPassword}" styleClass="textfield" size="20"  maxlength="30" required="true"
                                            requiredMessage="New Password is required">
                <rich:validator/>
            </h:inputSecret>
            <rich:message for="newPassword" style="color:red"/></td>
            </tr>
            <tr>
                <td align="right" valign="top">* Confirm New Password:</td>
                <td valign="top"><h:inputSecret redisplay="true" id="confirmNewPassword" value="#{changePasswordPopupController.confirmNewPassword}" styleClass="textfield" size="20"  maxlength="30" required="true"
                                            requiredMessage="Confirm New Password is required">
                <rich:validator/>
            </h:inputSecret>
            <rich:message for="confirmNewPassword" style="color:red"/></td>
            </tr>
            <tr>
                <td align="right" valign="top"></td>
                <td valign="top"><a4j:commandButton image="/img/b_ok.png" action="#{changePasswordPopupController.saveAction}" render="message"/>
            </td>
            </tr>
        </table>
    </ui:define>
</ui:composition>

